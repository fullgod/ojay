!!!
- script_map = lambda { |s| "http://yui.yahooapis.com/2.5.0/build/#{ s.gsub(/(\-beta)?(\-min)?$/, '') }/#{s}.js" }
%html
  %head
    %meta{'http-equiv' => "Content-type", :content => "text/html; charset=utf-8"}/
    %title
      = 'Ojay: ' + (@title || 'YUI development made easy')
    =javascripts *( %w(yahoo-dom-event selector-beta-min animation-min connection-min get-min history-min).map &script_map )
    =javascripts 'ojay/all'
    =stylesheets 'application'
  %body
    #container
      #header
        .sub
          %h1 Ojay
          #tom-link
            =link 'theOTHERmedia', 'http://othermedia.com'
      #main
        .sub
          #content
            = yield
          #sidebar
            #download
              =link 'Download 0.1.2', 'http://ojay.googlecode.com/files/ojay-0.1.2.zip'
            %ul#nav
              %li
                =link 'Home', '/'
              %li
                =link 'License'
            %ul#docs
              %li
                =link 'Ojay\'s structure', '/articles/structure.html'
              %li
                =link 'Getting started', '/articles/started.html'
              %li
                =link 'Utility methods', '/articles/util.html'
              %li
                =link 'Core extensions', '/articles/core_extensions.html'
              %li
                =link 'Handling events', '/articles/events.html'
              %li
                =link 'DOM methods', '/articles/dom_methods.html'
              %li
                =link 'Animation', '/articles/animation.html'
              %li
                =link 'Generating HTML', '/articles/generating_html.html'
              %li
                =link 'Sequencing', '/articles/sequencing.html'
              %li
                =link 'Regions', '/articles/regions.html'
              %li
                =link 'Debugging', '/articles/debugging.html'
              %li
                =link '<tt>MethodChain</tt>', '/articles/method_chain.html'
            %ul#packages
              %li
                =link 'Ajax/HTTP programming', '/articles/ajax.html'
              %li
                =link 'History management', '/articles/history.html'
              %li
                =link 'Mouse tracking', '/articles/mouse.html'
            #osi-link
              =link img('opensource-75x65.png'), 'http://www.opensource.org/'
          .clear
      #footer
        .sub
          Copyright &copy; 2007&ndash;2008
          =link 'the OTHER media', 'http://othermedia.com'
    :plain
      <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
        var pageTracker = _gat._getTracker("UA-3702125-1");
        if (/ojay\.othermedia\.org/.test(window.location.href)) {
          pageTracker._initData();
          pageTracker._trackPageview();
        }
      </script>